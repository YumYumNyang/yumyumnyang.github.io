---
emoji: ðŸŽ¼
title: "[í”„ë¡œê·¸ëž˜ë¨¸ìŠ¤] ê°€ì‚¬ê²€ìƒ‰ í’€ì´"
date: "2022-01-14 00:12:00"
author: ì–Œì–Œëƒ¥ì´
tags: ì•Œê³ ë¦¬ì¦˜ í”„ë¡œê·¸ëž˜ë¨¸ìŠ¤ trie ìžë£Œêµ¬ì¡° ê°€ì‚¬ê²€ìƒ‰ ìžë°”ìŠ¤í¬ë¦½íŠ¸ íŠ¸ë¼ì´ ë¬¸ìžì—´íƒìƒ‰
categories: algorithm
---


## **âœï¸**Â ë¬¸ì œ

---

**[ë³¸ ë¬¸ì œëŠ” ì •í™•ì„±ê³¼ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ ê°ê° ì ìˆ˜ê°€ ìžˆëŠ” ë¬¸ì œìž…ë‹ˆë‹¤.]**

ì¹œêµ¬ë“¤ë¡œë¶€í„° ì²œìž¬ í”„ë¡œê·¸ëž˜ë¨¸ë¡œ ë¶ˆë¦¬ëŠ”Â **"í”„ë¡œë„"**ëŠ” ìŒì•…ì„ í•˜ëŠ” ì¹œêµ¬ë¡œë¶€í„° ìžì‹ ì´ ì¢‹ì•„í•˜ëŠ” ë…¸ëž˜ ê°€ì‚¬ì— ì‚¬ìš©ëœ ë‹¨ì–´ë“¤ ì¤‘ì— íŠ¹ì • í‚¤ì›Œë“œê°€ ëª‡ ê°œ í¬í•¨ë˜ì–´ ìžˆëŠ”ì§€ ê¶ê¸ˆí•˜ë‹ˆ í”„ë¡œê·¸ëž¨ìœ¼ë¡œ ê°œë°œí•´ ë‹¬ë¼ëŠ” ì œì•ˆì„ ë°›ì•˜ìŠµë‹ˆë‹¤.ê·¸ ì œì•ˆ ì‚¬í•­ ì¤‘, í‚¤ì›Œë“œëŠ” ì™€ì¼ë“œì¹´ë“œ ë¬¸ìžì¤‘ í•˜ë‚˜ì¸ '?'ê°€ í¬í•¨ëœ íŒ¨í„´ í˜•íƒœì˜ ë¬¸ìžì—´ì„ ëœ»í•©ë‹ˆë‹¤. ì™€ì¼ë“œì¹´ë“œ ë¬¸ìžì¸ '?'ëŠ” ê¸€ìž í•˜ë‚˜ë¥¼ ì˜ë¯¸í•˜ë©°, ì–´ë–¤ ë¬¸ìžì—ë„ ë§¤ì¹˜ëœë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´Â `"fro??"`ëŠ”Â `"frodo"`,Â `"front"`,Â `"frost"`Â ë“±ì— ë§¤ì¹˜ë˜ì§€ë§ŒÂ `"frame"`,Â `"frozen"`ì—ëŠ” ë§¤ì¹˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê°€ì‚¬ì— ì‚¬ìš©ëœ ëª¨ë“  ë‹¨ì–´ë“¤ì´ ë‹´ê¸´ ë°°ì—´Â `words`ì™€ ì°¾ê³ ìž í•˜ëŠ” í‚¤ì›Œë“œê°€ ë‹´ê¸´ ë°°ì—´Â `queries`ê°€ ì£¼ì–´ì§ˆ ë•Œ, ê° í‚¤ì›Œë“œ ë³„ë¡œ ë§¤ì¹˜ëœ ë‹¨ì–´ê°€ ëª‡ ê°œì¸ì§€Â **ìˆœì„œëŒ€ë¡œ**Â ë°°ì—´ì— ë‹´ì•„ ë°˜í™˜í•˜ë„ë¡Â `solution`Â í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ ì£¼ì„¸ìš”.

### **ðŸš¨Â  ê°€ì‚¬ ë‹¨ì–´** ì œí•œì‚¬í•­

- `words`ì˜ ê¸¸ì´(ê°€ì‚¬ ë‹¨ì–´ì˜ ê°œìˆ˜)ëŠ” 2 ì´ìƒ 100,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê° ê°€ì‚¬ ë‹¨ì–´ì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 10,000 ì´í•˜ë¡œ ë¹ˆ ë¬¸ìžì—´ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.
- ì „ì²´ ê°€ì‚¬ ë‹¨ì–´ ê¸¸ì´ì˜ í•©ì€ 2 ì´ìƒ 1,000,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê°€ì‚¬ì— ë™ì¼ ë‹¨ì–´ê°€ ì—¬ëŸ¬ ë²ˆ ë‚˜ì˜¬ ê²½ìš° ì¤‘ë³µì„ ì œê±°í•˜ê³ Â `words`ì—ëŠ” í•˜ë‚˜ë¡œë§Œ ì œê³µë©ë‹ˆë‹¤.
- ê° ê°€ì‚¬ ë‹¨ì–´ëŠ” ì˜¤ì§ ì•ŒíŒŒë²³ ì†Œë¬¸ìžë¡œë§Œ êµ¬ì„±ë˜ì–´ ìžˆìœ¼ë©°, íŠ¹ìˆ˜ë¬¸ìžë‚˜ ìˆ«ìžëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.

### **ðŸš¨Â ê²€ìƒ‰ í‚¤ì›Œë“œ ì œí•œì‚¬í•­**

- `queries`ì˜ ê¸¸ì´(ê²€ìƒ‰ í‚¤ì›Œë“œ ê°œìˆ˜)ëŠ” 2 ì´ìƒ 100,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê° ê²€ìƒ‰ í‚¤ì›Œë“œì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 10,000 ì´í•˜ë¡œ ë¹ˆ ë¬¸ìžì—´ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.
- ì „ì²´ ê²€ìƒ‰ í‚¤ì›Œë“œ ê¸¸ì´ì˜ í•©ì€ 2 ì´ìƒ 1,000,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì¤‘ë³µë  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.
- ê° ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì˜¤ì§ ì•ŒíŒŒë²³ ì†Œë¬¸ìžì™€ ì™€ì¼ë“œì¹´ë“œ ë¬¸ìžì¸Â `'?'`Â ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìžˆìœ¼ë©°, íŠ¹ìˆ˜ë¬¸ìžë‚˜ ìˆ«ìžëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.
- ê²€ìƒ‰ í‚¤ì›Œë“œëŠ” ì™€ì¼ë“œì¹´ë“œ ë¬¸ìžì¸Â `'?'`ê°€ í•˜ë‚˜ ì´ìƒ í¬í•¨ë¼ ìžˆìœ¼ë©°,Â `'?'`ëŠ” ê° ê²€ìƒ‰ í‚¤ì›Œë“œì˜ ì ‘ë‘ì‚¬ ì•„ë‹ˆë©´ ì ‘ë¯¸ì‚¬ ì¤‘ í•˜ë‚˜ë¡œë§Œ ì£¼ì–´ì§‘ë‹ˆë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´Â `"??odo"`,Â `"fro??"`,Â `"?????"`ëŠ” ê°€ëŠ¥í•œ í‚¤ì›Œë“œìž…ë‹ˆë‹¤.
    - ë°˜ë©´ì—Â `"frodo"`(`'?'`ê°€ ì—†ìŒ),Â `"fr?do"`(`'?'`ê°€ ì¤‘ê°„ì— ìžˆìŒ),Â `"?ro??"`(`'?'`ê°€ ì–‘ìª½ì— ìžˆìŒ)ëŠ” ë¶ˆê°€ëŠ¥í•œ í‚¤ì›Œë“œìž…ë‹ˆë‹¤.

## ðŸ“ŒÂ ìž…ì¶œë ¥ ì˜ˆì‹œ

---

| words | queries | result |
| --- | --- | --- |
| ["frodo", "front", "frost", "frozen", "frame", "kakao"] | ["fro??", "????o", "fr???", "fro???", "pro?"] | [3, 2, 4, 1, 0] |

## **ðŸ¤”**Â í’€ì´ ì½”ë“œ

---

```jsx
function solution(words, queries) {
    var answer = [];

    
    let trie = new Trie();
    queries.forEach(query => {
        trie.insert(query);
    })
    
    let ans = {};
    words.forEach(word => {
        let result = trie.find(word);
        result.forEach(res => {
            ans[res] = ans[res] ? ans[res]+1 : 1;
        });
    })

    answer = queries.map(query => ans[query] ? ans[query] : 0);
    
    return answer;
}

function TrieNode(key, index){
        this.key = key;
        this.parent = null;
        this.children = {};
        this.index = index;
        this.end = null;
}
function Trie(){
    this.root = new TrieNode(null, 0);
}
    
Trie.prototype.insert = function(word){
    let node = this.root;
        
    for(let i = 0; i < word.length; i++){
        if(!node.children[word[i]]){
            node.children[word[i]] = new TrieNode(word[i], i+1);
            node.children[word[i]].parent = node;
        }
        node = node.children[word[i]];
            
        if(i === word.length-1){
            node.end = word;
        }
    }
};
    
Trie.prototype.find = function(word){
    
    let stack = [this.root];
    let queries = [];
        
    while(stack.length){
        let node = stack.pop();
        let w = word[node.index];
        // console.log(word, node.key, node.index, w,stack.length);
        
        if(node.children['?']){
            stack.push(node.children['?']);
        }
        if(node.children[w]){
            stack.push(node.children[w]);
        }
        
        if(node.index === word.length && node.end){
            queries.push(node.end)
        }
       
    }
    
    return queries;
}
```

## ðŸ˜¼Â ë‚˜ì˜ í’€ì´ê³¼ì •

---

ì²˜ìŒì—” ê·¸ëƒ¥ ì„ í˜•ì ìœ¼ë¡œ íƒìƒ‰í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê·¸ë ‡ê²Œ í•˜ë©´ 1~3ë²ˆì˜ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ ì´í›„ë¡œë„ ì •ë§ ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì„ ì‹œë„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì •ê·œì‹ì„ ì‚¬ìš©í•´ë³´ê¸°ë„í•˜ê³ , ë°”ì´ë„ˆë¦¬ ì„œì¹˜ë¥¼ ì‚¬ìš©í•´ì„œ ?ì´ ì•„ë‹Œ ë¶€ë¶„ë§Œ í™•ì¸í•˜ëŠ” ë°©ë²•ë„ ì‹œë„í–ˆì§€ë§Œ í’€ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ë‚´ê°€ ëª¨ë¥´ëŠ” ê²ƒì´ ìžˆë‚˜ë³´ë‹¤ ìƒê°í•´ì„œ ì§ˆë¬¸í•˜ê¸°ì— ë‚˜ì™€ìžˆëŠ” ì§ˆë¬¸ë“¤ì„ í†µí•´ `trie` ìžë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ í’€ ìˆ˜ ìžˆë‹¤ê³  í•˜ì˜€ìŠµë‹ˆë‹¤. ì²˜ìŒ ë“¤ì–´ë³´ëŠ” ìžë£Œêµ¬ì¡°ë¼ì„œ ë¨¼ì € ê³µë¶€ë¥¼ í•˜ê³  ì´ë¥¼ ì ìš©í•´ë³´ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. `trie` ìžë£Œêµ¬ì¡°ë¡œ ì¿¼ë¦¬ì˜ íŠ¸ë¦¬ë¥¼ ë§Œë“  ë‹¤ìŒì—, ë‹¨ì–´ë¥¼ í•˜ë‚˜í•˜ë‚˜ í™•ì¸í•˜ë©´ì„œ ë§¤ì¹­ë  ìˆ˜ ìžˆëŠ” ì¿¼ë¦¬ì˜ ë°°ì—´ì„ ë§Œë“¤ì–´ ì¿¼ë¦¬ë§ˆë‹¤ ëª‡ë²ˆ ë‚˜ì™”ëŠ”ì§€ ì„¸ì–´ ë‹µì„ ì•Œì•„ë‚´ì—ˆìŠµë‹ˆë‹¤. ì´ë•Œ, íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ë¶„ê¸°ì ì´ ìƒê¹ë‹ˆë‹¤. ë‹¨ì–´ì˜ ê¸€ìžì™€ ì¿¼ë¦¬ì˜ ê¸€ìžê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ë„ ìžˆì„ ìˆ˜ ìžˆê³ , ë˜ëŠ” ì¿¼ë¦¬ì˜ ê¸€ìžê°€ â€˜?â€™ì¸ ê²½ìš°ë„ ìžˆì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê·¸ëž˜ì„œ ì €ëŠ” ì´ ì•ˆì—ì„œë„ `dfs`ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ìŠ¤íƒì„ ì‚¬ìš©í•˜ì—¬ ë°©ë¬¸í•´ì•¼í•˜ëŠ” ë…¸ë“œë¥¼ ë„£ì–´ì£¼ë©´ì„œ ìŠ¤íƒì´ ë¹Œë•Œê¹Œì§€ ë°˜ë³µí•˜ì˜€ìŠµë‹ˆë‹¤. `find`ì˜ ê²°ê³¼ë¡œì¨ ë°›ì€ ë°°ì—´ì€ ì¿¼ë¦¬ë¥¼ `key`ë¡œ ê°€ì§€ê³  ë§¤ì¹­ íšŸìˆ˜ë¥¼ `value`ë¡œ ê°€ì§€ê²Œë”í•´ì„œ í•´ì‰¬êµ¬ì¡°ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í–ˆì„ ë•Œì˜ ìž¥ì ì€ ì¿¼ë¦¬ê°€ ì¤‘ë³µëœ ê²½ìš°ì— í•œë²ˆ ë” ì°¾ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ìž¥ì ì´ ìžˆìŠµë‹ˆë‹¤. 

## âœ¨Â ì•Œê²Œëœ ì 

---

### íŠ¸ë¼ì´ ìžë£Œêµ¬ì¡°

ë¬¸ìžì—´ì˜ ì§‘í•©ì„ í‘œí˜„í•˜ëŠ” íŠ¸ë¦¬ìžë£Œ êµ¬ì¡°

íŠ¸ë¼ì´ëŠ” ë¬¸ìžì—´ì— íŠ¹í™”ëœ ìžë£Œêµ¬ì¡°ë¡œ, ë¬¸ìžì—´ì„ ë¹ ë¥´ê²Œ íƒìƒ‰í•  ìˆ˜ ìžˆë‹¤. Prefix Tree, digital search Tre, retrieval treeë¼ê³ ë„ ë¶ˆë¦°ë‹¤. ë…¸ë“œë¥¼ íƒìƒ‰í•˜ê¸°ì—ëŠ” íš¨ìœ¨ì ì´ì§€ë§Œ ì €ìž¥ê³µê°„ì´ í¬ë‹¤ëŠ” ë‹¨ì ì´ ìžˆë‹¤. 

ì‹œê°„ ë³µìž¡ë„ëŠ” ì œì¼ ê¸´ ë¬¸ìžì—´ì˜ ê¸¸ì´ê°€ `L`ì´ê³  ì´ ë¬¸ìžì—´ë“¤ì˜ ìˆ˜ë¥¼ `M`ì´ë¼ í•  ë•Œ ìƒì„±ì‹œ `O(M*L)`ì´ ê±¸ë¦°ë‹¤. íƒìƒ‰ì—ëŠ” `O(L)` ë§Œí¼ ê±¸ë¦°ë‹¤. 

### íŠ¸ë¼ì´ ìž‘ë™ì›ë¦¬

[https://www.geeksforgeeks.org/pattern-searching-using-trie-suffixes/](https://www.geeksforgeeks.org/pattern-searching-using-trie-suffixes/)

### íŠ¸ë¼ì´ ìžë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„

```jsx
function TrieNode(key){
	this.key = key;
	this.parent = null;
	this.children = {};
	this.end = false;
}

TrieNode.prototype.getWord = function(){
	let output = [];
	let node = this;

	while(node !== null){
		output.unshift(node.key);
		node = node.parent;
	}
	
	return output.join('');
}

function Trie(){
	this.root = new TrieNode(null);
}

Trie.prototype.insert = function(word){
	let node = this.root;
	for(let i = 0; i < word.length; i++){
		if(!node.children[word[i]]){
			node.children[word[i]] = new TrieNode(word[i]);
			node.children[word[i]].parent = node;
		}
		node = node.children[word[i]];
		
		if(i === word.length-1){
			node.end = true;
		}
	}
};

Trie.prototype.contains =function(word){
	let node = this.root;

	for(let i = 0; i < word.length; i++){
		if(node.children[word[i]]){
			node = node.children[word[i]];
		}else{
			return false;
		}
	}
	return node.end;
}

Trie.prototype.find = function(prefix){
	let node = this.root;
	let output = [];
	for(let i = 0; i < prefix.length; i++){
		if(node.children[prefix[i]]){
			node = node.children[prefix[i]];
		}else{
			return output;
		}
	}
	findAllWords(node, output);

	return output;
}

function findAllWords(node, arr){
	if(node.end){
		arr.unshift(node.getWord());
	}
	node.children.forEach(child => {
		findAllWords(node.children[child], arr);
	})
}

let trie = new Trie();

```


```toc

```
